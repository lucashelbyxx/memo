[2. 应用视角的操作系统 (jyywiki.cn)](https://jyywiki.cn/OS/2023/build/lect2.ipynb)

~~~ bash
gcc hello.c

//x: 可执行文件; a: assembly
ls -l a.out

file a.out

./a.out

//objdump: 可以帮我们把一个二进制执行文件打开，找到里面的所有汇编代码
objdump -d a.out | less

//静态编译，把所有的库都打包到一起；verbose: gcc日志
gcc hello.c -static --verbose

//把一个工具的输出以文本的形式交给另一个工具作为输入
objdump -d a.out | wc -lc


~~~

.c 文件里面有很多预编译和宏，它第一步经历的是预编译。.i 之后所有的预编译指令都没有了。.i 之后编译器才会真正去编译它，编译成 .s。.s 经过汇编器生成 .o，然后经过链接器生成 .out。
源代码 -> 预编译完的代码 -> 汇编代码
.c -> .i -> .s -> .o -> .out

构造一个最小的 hello world



问出正确的问题，用正确的方式找答案

GDB, the GNU Project debugger, allows you to see what is going on inside another program while it executes -- or what another program was doing at the moment it crashed.
看目录，调试器给了我们什么样的功能。

~~~bash
//从程序的第一条指令开始执行
starti
~~~



return 指令的行为是什么？

把栈上的值push到pc指针上

**程序计数寄存器（rip寄存器，也叫PC寄存器、IP寄存器）。**用来存放下一条即将用来执行的指令的地址，它决定程序执行的流程。



计算机系统实质上是一个状态机



[函数调用栈之彻底理解 | 一个工匠 (yigegongjiang.com)](https://www.yigegongjiang.com/2022/函数调用栈之彻底理解/)
